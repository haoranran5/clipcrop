import{r as m,a as Fe,g as Ue,c as He,R as Be}from"./vendor-2f5676f8.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();var Me={exports:{}},ae={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=m,$e=Symbol.for("react.element"),Ge=Symbol.for("react.fragment"),Xe=Object.prototype.hasOwnProperty,Ye=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qe={key:!0,ref:!0,__self:!0,__source:!0};function Ne(o,n,e){var t,r={},a=null,s=null;e!==void 0&&(a=""+e),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(s=n.ref);for(t in n)Xe.call(n,t)&&!qe.hasOwnProperty(t)&&(r[t]=n[t]);if(o&&o.defaultProps)for(t in n=o.defaultProps,n)r[t]===void 0&&(r[t]=n[t]);return{$$typeof:$e,type:o,key:a,ref:s,props:r,_owner:Ye.current}}ae.Fragment=Ge;ae.jsx=Ne;ae.jsxs=Ne;Me.exports=ae;var i=Me.exports,ue={},Ce=Fe;ue.createRoot=Ce.createRoot,ue.hydrateRoot=Ce.hydrateRoot;var he=function(o,n){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},he(o,n)};function Ve(o,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");he(o,n);function e(){this.constructor=o}o.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var N=function(){return N=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},N.apply(this,arguments)};var be=!1,$,pe,fe,ne,oe,Ae,ie,me,ge,ve,ze,we,xe,Ie,Te;function O(){if(!be){be=!0;var o=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(o),e=/(Mac OS X)|(Windows)|(Linux)/.exec(o);if(we=/\b(iPhone|iP[ao]d)/.exec(o),xe=/\b(iP[ao]d)/.exec(o),ve=/Android/i.exec(o),Ie=/FBAN\/\w+;/i.exec(o),Te=/Mobile/i.exec(o),ze=!!/Win64/.exec(o),n){$=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,$&&document&&document.documentMode&&($=document.documentMode);var t=/(?:Trident\/(\d+.\d+))/.exec(o);Ae=t?parseFloat(t[1])+4:$,pe=n[2]?parseFloat(n[2]):NaN,fe=n[3]?parseFloat(n[3]):NaN,ne=n[4]?parseFloat(n[4]):NaN,ne?(n=/(?:Chrome\/(\d+\.\d+))/.exec(o),oe=n&&n[1]?parseFloat(n[1]):NaN):oe=NaN}else $=pe=fe=oe=ne=NaN;if(e){if(e[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(o);ie=r?parseFloat(r[1].replace("_",".")):!0}else ie=!1;me=!!e[2],ge=!!e[3]}else ie=me=ge=!1}}var ye={ie:function(){return O()||$},ieCompatibilityMode:function(){return O()||Ae>$},ie64:function(){return ye.ie()&&ze},firefox:function(){return O()||pe},opera:function(){return O()||fe},webkit:function(){return O()||ne},safari:function(){return ye.webkit()},chrome:function(){return O()||oe},windows:function(){return O()||me},osx:function(){return O()||ie},linux:function(){return O()||ge},iphone:function(){return O()||we},mobile:function(){return O()||we||xe||ve||Te},nativeApp:function(){return O()||Ie},android:function(){return O()||ve},ipad:function(){return O()||xe}},Ke=ye,te=!!(typeof window<"u"&&window.document&&window.document.createElement),Je={canUseDOM:te,canUseWorkers:typeof Worker<"u",canUseEventListeners:te&&!!(window.addEventListener||window.attachEvent),canUseViewport:te&&!!window.screen,isInWorker:!te},Qe=Je,Oe=Qe,We;Oe.canUseDOM&&(We=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function et(o,n){if(!Oe.canUseDOM||n&&!("addEventListener"in document))return!1;var e="on"+o,t=e in document;if(!t){var r=document.createElement("div");r.setAttribute(e,"return;"),t=typeof r[e]=="function"}return!t&&We&&o==="wheel"&&(t=document.implementation.hasFeature("Events.wheel","3.0")),t}var tt=et,rt=Ke,nt=tt,Re=10,Se=40,_e=800;function Le(o){var n=0,e=0,t=0,r=0;return"detail"in o&&(e=o.detail),"wheelDelta"in o&&(e=-o.wheelDelta/120),"wheelDeltaY"in o&&(e=-o.wheelDeltaY/120),"wheelDeltaX"in o&&(n=-o.wheelDeltaX/120),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(n=e,e=0),t=n*Re,r=e*Re,"deltaY"in o&&(r=o.deltaY),"deltaX"in o&&(t=o.deltaX),(t||r)&&o.deltaMode&&(o.deltaMode==1?(t*=Se,r*=Se):(t*=_e,r*=_e)),t&&!n&&(n=t<1?-1:1),r&&!e&&(e=r<1?-1:1),{spinX:n,spinY:e,pixelX:t,pixelY:r}}Le.getEventType=function(){return rt.firefox()?"DOMMouseScroll":nt("wheel")?"wheel":"mousewheel"};var ot=Le,it=ot;const at=Ue(it);function st(o,n,e,t,r,a){a===void 0&&(a=0);var s=q(o,n,a),d=s.width,h=s.height,c=Math.min(d,e),l=Math.min(h,t);return c>l*r?{width:l*r,height:l}:{width:c,height:c/r}}function ct(o){return o.width>o.height?o.width/o.naturalWidth:o.height/o.naturalHeight}function V(o,n,e,t,r){r===void 0&&(r=0);var a=q(n.width,n.height,r),s=a.width,d=a.height;return{x:je(o.x,s,e.width,t),y:je(o.y,d,e.height,t)}}function je(o,n,e,t){var r=n*t/2-e/2;return se(o,-r,r)}function Ee(o,n){return Math.sqrt(Math.pow(o.y-n.y,2)+Math.pow(o.x-n.x,2))}function De(o,n){return Math.atan2(n.y-o.y,n.x-o.x)*180/Math.PI}function lt(o,n,e,t,r,a,s){a===void 0&&(a=0),s===void 0&&(s=!0);var d=s?dt:ut,h=q(n.width,n.height,a),c=q(n.naturalWidth,n.naturalHeight,a),l={x:d(100,((h.width-e.width/r)/2-o.x/r)/h.width*100),y:d(100,((h.height-e.height/r)/2-o.y/r)/h.height*100),width:d(100,e.width/h.width*100/r),height:d(100,e.height/h.height*100/r)},w=Math.round(d(c.width,l.width*c.width/100)),u=Math.round(d(c.height,l.height*c.height/100)),x=c.width>=c.height*t,R=x?{width:Math.round(u*t),height:u}:{width:w,height:Math.round(w/t)},S=N(N({},R),{x:Math.round(d(c.width-R.width,l.x*c.width/100)),y:Math.round(d(c.height-R.height,l.y*c.height/100))});return{croppedAreaPercentages:l,croppedAreaPixels:S}}function dt(o,n){return Math.min(o,Math.max(0,n))}function ut(o,n){return n}function ht(o,n,e,t,r,a){var s=q(n.width,n.height,e),d=se(t.width/s.width*(100/o.width),r,a),h={x:d*s.width/2-t.width/2-s.width*d*(o.x/100),y:d*s.height/2-t.height/2-s.height*d*(o.y/100)};return{crop:h,zoom:d}}function pt(o,n,e){var t=ct(n);return e.height>e.width?e.height/(o.height*t):e.width/(o.width*t)}function ft(o,n,e,t,r,a){e===void 0&&(e=0);var s=q(n.naturalWidth,n.naturalHeight,e),d=se(pt(o,n,t),r,a),h=t.height>t.width?t.height/o.height:t.width/o.width,c={x:((s.width-o.width)/2-o.x)*h,y:((s.height-o.height)/2-o.y)*h};return{crop:c,zoom:d}}function Pe(o,n){return{x:(n.x+o.x)/2,y:(n.y+o.y)/2}}function mt(o){return o*Math.PI/180}function q(o,n,e){var t=mt(e);return{width:Math.abs(Math.cos(t)*o)+Math.abs(Math.sin(t)*n),height:Math.abs(Math.sin(t)*o)+Math.abs(Math.cos(t)*n)}}function se(o,n,e){return Math.min(Math.max(o,n),e)}function re(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];return o.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var gt=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,vt=1,wt=3,xt=1,yt=function(o){Ve(n,o);function n(){var e=o!==null&&o.apply(this,arguments)||this;return e.cropperRef=m.createRef(),e.imageRef=m.createRef(),e.videoRef=m.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var t=!0;e.resizeObserver=new window.ResizeObserver(function(r){if(t){t=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(t){return t.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var t=e.computeSizes();t&&(e.emitCropData(),e.setInitialCrop(t)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(t){if(e.props.initialCroppedAreaPercentages){var r=ht(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),a=r.crop,s=r.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(s)}else if(e.props.initialCroppedAreaPixels){var d=ft(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),a=d.crop,s=d.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(s)}},e.computeSizes=function(){var t,r,a,s,d,h,c=e.imageRef.current||e.videoRef.current;if(c&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var l=e.containerRect.width/e.containerRect.height,w=((t=e.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=e.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((s=e.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,x=c.offsetWidth<w||c.offsetHeight<u,R=w/u,S=void 0;if(x)switch(e.state.mediaObjectFit){default:case"contain":S=l>R?{width:e.containerRect.height*R,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/R};break;case"horizontal-cover":S={width:e.containerRect.width,height:e.containerRect.width/R};break;case"vertical-cover":S={width:e.containerRect.height*R,height:e.containerRect.height};break}else S={width:c.offsetWidth,height:c.offsetHeight};e.mediaSize=N(N({},S),{naturalWidth:w,naturalHeight:u}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var g=e.props.cropSize?e.props.cropSize:st(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((d=e.state.cropSize)===null||d===void 0?void 0:d.height)!==g.height||((h=e.state.cropSize)===null||h===void 0?void 0:h.width)!==g.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(g),e.setState({cropSize:g},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(g),g}},e.saveContainerPosition=function(){if(e.containerRef){var t=e.containerRef.getBoundingClientRect();e.containerPosition={x:t.left,y:t.top}}},e.onMouseDown=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(n.getMousePoint(t)))},e.onMouseMove=function(t){return e.onDrag(n.getMousePoint(t))},e.onScroll=function(t){e.currentDoc&&(t.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(t){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(t))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),t.touches.length===2?e.onPinchStart(t):t.touches.length===1&&e.onDragStart(n.getTouchPoint(t.touches[0]))))},e.onTouchMove=function(t){t.preventDefault(),t.touches.length===2?e.onPinchMove(t):t.touches.length===1&&e.onDrag(n.getTouchPoint(t.touches[0]))},e.onGestureStart=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(t){if(t.preventDefault(),!e.isTouching){var r=n.getMousePoint(t),a=e.gestureZoomStart-1+t.scale;if(e.setNewZoom(a,r,{shouldUpdatePosition:!0}),e.props.onRotationChange){var s=e.gestureRotationStart+t.rotation;e.props.onRotationChange(s)}}},e.onGestureEnd=function(t){e.cleanEvents()},e.onDragStart=function(t){var r,a,s=t.x,d=t.y;e.dragStartPosition={x:s,y:d},e.dragStartCrop=N({},e.props.crop),(a=(r=e.props).onInteractionStart)===null||a===void 0||a.call(r)},e.onDrag=function(t){var r=t.x,a=t.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(r===void 0||a===void 0)){var s=r-e.dragStartPosition.x,d=a-e.dragStartPosition.y,h={x:e.dragStartCrop.x+s,y:e.dragStartCrop.y+d},c=e.props.restrictPosition?V(h,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):h;e.props.onCropChange(c)}}))},e.onDragStopped=function(){var t,r;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(r=(t=e.props).onInteractionEnd)===null||r===void 0||r.call(t)},e.onWheel=function(t){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(t))){t.preventDefault();var r=n.getMousePoint(t),a=at(t).pixelY,s=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(s,r,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var d,h;return(h=(d=e.props).onInteractionStart)===null||h===void 0?void 0:h.call(d)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var d,h;return(h=(d=e.props).onInteractionEnd)===null||h===void 0?void 0:h.call(d)})},250)}},e.getPointOnContainer=function(t,r){var a=t.x,s=t.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(a-r.x),y:e.containerRect.height/2-(s-r.y)}},e.getPointOnMedia=function(t){var r=t.x,a=t.y,s=e.props,d=s.crop,h=s.zoom;return{x:(r+d.x)/h,y:(a+d.y)/h}},e.setNewZoom=function(t,r,a){var s=a===void 0?{}:a,d=s.shouldUpdatePosition,h=d===void 0?!0:d;if(!(!e.state.cropSize||!e.props.onZoomChange)){var c=se(t,e.props.minZoom,e.props.maxZoom);if(h){var l=e.getPointOnContainer(r,e.containerPosition),w=e.getPointOnMedia(l),u={x:w.x*c-l.x,y:w.y*c-l.y},x=e.props.restrictPosition?V(u,e.mediaSize,e.state.cropSize,c,e.props.rotation):u;e.props.onCropChange(x)}e.props.onZoomChange(c)}},e.getCropData=function(){if(!e.state.cropSize)return null;var t=e.props.restrictPosition?V(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return lt(t,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var t=e.getCropData();if(t){var r=t.croppedAreaPercentages,a=t.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(r,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(r,a)}},e.emitCropAreaChange=function(){var t=e.getCropData();if(t){var r=t.croppedAreaPercentages,a=t.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(r,a)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var t=e.props.restrictPosition?V(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(t),e.emitCropData()}},e.onKeyDown=function(t){var r,a,s=e.props,d=s.crop,h=s.onCropChange,c=s.keyboardStep,l=s.zoom,w=s.rotation,u=c;if(e.state.cropSize){t.shiftKey&&(u*=.2);var x=N({},d);switch(t.key){case"ArrowUp":x.y-=u,t.preventDefault();break;case"ArrowDown":x.y+=u,t.preventDefault();break;case"ArrowLeft":x.x-=u,t.preventDefault();break;case"ArrowRight":x.x+=u,t.preventDefault();break;default:return}e.props.restrictPosition&&(x=V(x,e.mediaSize,e.state.cropSize,l,w)),t.repeat||(a=(r=e.props).onInteractionStart)===null||a===void 0||a.call(r),h(x)}},e.onKeyUp=function(t){var r,a;switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":t.preventDefault();break;default:return}e.emitCropData(),(a=(r=e.props).onInteractionEnd)===null||a===void 0||a.call(r)},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=gt,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var e,t;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((t=this.styleRef.parentNode)===null||t===void 0||t.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var t,r,a,s,d,h,c,l,w;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((t=e.cropSize)===null||t===void 0?void 0:t.height)!==((r=this.props.cropSize)===null||r===void 0?void 0:r.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.width)?this.computeSizes():(((d=e.crop)===null||d===void 0?void 0:d.x)!==((h=this.props.crop)===null||h===void 0?void 0:h.x)||((c=e.crop)===null||c===void 0?void 0:c.y)!==((l=this.props.crop)===null||l===void 0?void 0:l.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((w=this.videoRef.current)===null||w===void 0||w.load());var u=this.getObjectFit();u!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:u},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,t=e.cropSize,r=e.aspect;return t?t.width/t.height:r},n.prototype.getObjectFit=function(){var e,t,r,a;if(this.props.objectFit==="cover"){var s=this.imageRef.current||this.videoRef.current;if(s&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,h=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((t=this.videoRef.current)===null||t===void 0?void 0:t.videoWidth)||0,c=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,l=h/c;return l<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var t=n.getTouchPoint(e.touches[0]),r=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=Ee(t,r),this.lastPinchRotation=De(t,r),this.onDragStart(Pe(t,r))},n.prototype.onPinchMove=function(e){var t=this;if(!(!this.currentDoc||!this.currentWindow)){var r=n.getTouchPoint(e.touches[0]),a=n.getTouchPoint(e.touches[1]),s=Pe(r,a);this.onDrag(s),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=Ee(r,a),h=t.props.zoom*(d/t.lastPinchDistance);t.setNewZoom(h,s,{shouldUpdatePosition:!1}),t.lastPinchDistance=d;var c=De(r,a),l=t.props.rotation+(c-t.lastPinchRotation);t.props.onRotationChange&&t.props.onRotationChange(l),t.lastPinchRotation=c})}},n.prototype.render=function(){var e=this,t,r=this.props,a=r.image,s=r.video,d=r.mediaProps,h=r.cropperProps,c=r.transform,l=r.crop,w=l.x,u=l.y,x=r.rotation,R=r.zoom,S=r.cropShape,g=r.showGrid,p=r.roundCropAreaPixels,A=r.style,D=A.containerStyle,B=A.cropAreaStyle,T=A.mediaStyle,I=r.classes,F=I.containerClassName,P=I.cropAreaClassName,j=I.mediaClassName,b=(t=this.state.mediaObjectFit)!==null&&t!==void 0?t:this.getObjectFit();return m.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(y){return e.containerRef=y},"data-testid":"container",style:D,className:re("reactEasyCrop_Container",F)},a?m.createElement("img",N({alt:"",className:re("reactEasyCrop_Image",b==="contain"&&"reactEasyCrop_Contain",b==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",b==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",j)},d,{src:a,ref:this.imageRef,style:N(N({},T),{transform:c||"translate(".concat(w,"px, ").concat(u,"px) rotate(").concat(x,"deg) scale(").concat(R,")")}),onLoad:this.onMediaLoad})):s&&m.createElement("video",N({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:re("reactEasyCrop_Video",b==="contain"&&"reactEasyCrop_Contain",b==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",b==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",j)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:N(N({},T),{transform:c||"translate(".concat(w,"px, ").concat(u,"px) rotate(").concat(x,"deg) scale(").concat(R,")")}),controls:!1}),(Array.isArray(s)?s:[{src:s}]).map(function(W){return m.createElement("source",N({key:W.src},W))})),this.state.cropSize&&m.createElement("div",N({ref:this.cropperRef,style:N(N({},B),{width:p?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:p?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:re("reactEasyCrop_CropArea",S==="round"&&"reactEasyCrop_CropAreaRound",g&&"reactEasyCrop_CropAreaGrid",P)},h)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:wt,minZoom:vt,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:xt},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(m.Component);const Ct=[{platform:"Instagram",type:"Post",width:1080,height:1080,category:"social"},{platform:"Instagram",type:"Story",width:1080,height:1920,category:"social"},{platform:"Twitter/X",type:"Banner",width:1500,height:500,category:"social"},{platform:"Facebook",type:"Cover",width:820,height:312,category:"social"},{platform:"LinkedIn",type:"Cover",width:1584,height:396,category:"social"},{platform:"YouTube",type:"Thumbnail",width:1280,height:720,category:"social"},{platform:"Universal",type:"Avatar",width:512,height:512,category:"avatar"},{platform:"Universal",type:"Square",width:1e3,height:1e3,category:"general"}];async function bt(o){return new Promise((n,e)=>{const t=new FileReader;t.onload=()=>n(t.result),t.onerror=e,t.readAsDataURL(o)})}async function Rt(o){try{const n=await createImageBitmap(o,{imageOrientation:"from-image"}),e=document.createElement("canvas");return e.width=n.width,e.height=n.height,e.getContext("2d").drawImage(n,0,0),await new Promise(a=>e.toBlob(s=>a(s),o.type||"image/png",.92))}catch{return o}}async function St(o,n,e={}){const{rotation:t=0,format:r="png",quality:a=.92,mask:s="rect",radius:d=24,outSize:h,borderColor:c,borderWidth:l,padding:w=0,background:u=null,shadow:x,filters:R=null,feather:S=0}=e,g=await _t(o),p=Math.max(g.width,g.height)*1.5,A=document.createElement("canvas");A.width=p,A.height=p;const D=A.getContext("2d");D.translate(p/2,p/2),D.rotate(t*Math.PI/180),D.translate(-p/2,-p/2),D.drawImage(g,(p-g.width)/2,(p-g.height)/2);const B=D.getImageData(0,0,p,p),T=Math.round(n.width+w*2),I=Math.round(n.height+w*2),F=document.createElement("canvas");F.width=T,F.height=I;const P=F.getContext("2d");u?(P.fillStyle=u,P.fillRect(0,0,T,I)):P.clearRect(0,0,T,I),P.putImageData(B,Math.round(-(p/2)+g.width/2-(n.x-w)),Math.round(-(p/2)+g.height/2-(n.y-w)));let j=T,b=I;if(s==="circle"){const M=Math.min(T,I);j=M,b=M}let W=document.createElement("canvas");W.width=j,W.height=b;const y=W.getContext("2d");if(u?(y.fillStyle=u,y.fillRect(0,0,j,b)):y.clearRect(0,0,j,b),R&&(y.filter=`brightness(${R.brightness}%) contrast(${R.contrast}%) saturate(${R.saturation}%) grayscale(${R.grayscale}%) sepia(${R.sepia}%) blur(${R.blur}px)`),y.save(),s==="circle"){const M=Math.min(T,I);y.beginPath(),y.arc(j/2,b/2,M/2,0,Math.PI*2),y.closePath(),y.clip(),y.drawImage(F,Math.floor((T-j)/2)*-1,Math.floor((I-b)/2)*-1)}else s==="roundRect"&&(de(y,0,0,j,b,d),y.clip()),y.drawImage(F,0,0,j,b);if(y.restore(),S&&S>0&&(s==="circle"||s==="roundRect")){const M=document.createElement("canvas");M.width=j,M.height=b;const z=M.getContext("2d");s==="circle"?(z.beginPath(),z.arc(j/2,b/2,Math.min(j,b)/2-S/2,0,Math.PI*2),z.closePath(),z.fillStyle="#000",z.fill()):(de(z,S/2,S/2,j-S,b-S,Math.max(0,d-S/2)),z.fillStyle="#000",z.fill()),z.filter=`blur(${S}px)`,z.drawImage(M,0,0),y.save(),y.globalCompositeOperation="destination-in",y.drawImage(M,0,0),y.restore()}if((s==="roundRect"||s==="circle")&&l&&l>0){if(y.save(),y.lineWidth=l,y.strokeStyle=c||"#fff",s==="circle"){const M=Math.min(j,b)/2-l/2;y.beginPath(),y.arc(j/2,b/2,M,0,Math.PI*2),y.stroke()}else de(y,l/2,l/2,j-l,b-l,Math.max(0,d-l/2)),y.stroke();y.restore()}const H=s!=="rect"&&r==="jpeg"?"png":r;return await new Promise(M=>W.toBlob(z=>M(z),"image/"+(H==="jpeg"?"jpeg":H),a))}function de(o,n,e,t,r,a){const s=Math.min(a,Math.min(t,r)/2);o.beginPath(),o.moveTo(n+s,e),o.arcTo(n+t,e,n+t,e+r,s),o.arcTo(n+t,e+r,n,e+r,s),o.arcTo(n,e+r,n,e,s),o.arcTo(n,e,n+t,e,s),o.closePath()}function _t(o){return new Promise((n,e)=>{const t=new Image;t.crossOrigin="anonymous",t.onload=()=>n(t),t.onerror=e,t.src=o})}var ke={exports:{}};(function(o,n){(function(e,t){t()})(He,function(){function e(c,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function t(c,l,w){var u=new XMLHttpRequest;u.open("GET",c),u.responseType="blob",u.onload=function(){h(u.response,l,w)},u.onerror=function(){console.error("could not download file")},u.send()}function r(c){var l=new XMLHttpRequest;l.open("HEAD",c,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(l)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof globalThis=="object"&&globalThis.global===globalThis?globalThis:void 0,d=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),h=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(c,l,w){var u=s.URL||s.webkitURL,x=document.createElement("a");l=l||c.name||"download",x.download=l,x.rel="noopener",typeof c=="string"?(x.href=c,x.origin===location.origin?a(x):r(x.href)?t(c,l,w):a(x,x.target="_blank")):(x.href=u.createObjectURL(c),setTimeout(function(){u.revokeObjectURL(x.href)},4e4),setTimeout(function(){a(x)},0))}:"msSaveOrOpenBlob"in navigator?function(c,l,w){if(l=l||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(e(c,w),l);else if(r(c))t(c,l,w);else{var u=document.createElement("a");u.href=c,u.target="_blank",setTimeout(function(){a(u)})}}:function(c,l,w,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof c=="string")return t(c,l,w);var x=c.type==="application/octet-stream",R=/constructor/i.test(s.HTMLElement)||s.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||x&&R||d)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var D=g.result;D=S?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=D:location=D,u=null},g.readAsDataURL(c)}else{var p=s.URL||s.webkitURL,A=p.createObjectURL(c);u?u.location=A:location.href=A,u=null,setTimeout(function(){p.revokeObjectURL(A)},4e4)}});s.saveAs=h.saveAs=h,o.exports=h})})(ke);var jt=ke.exports;function Et(){const[o,n]=m.useState(null),[e,t]=m.useState([]),[r,a]=m.useState(!1),[s,d]=m.useState(!1),[h,c]=m.useState(!1),[l,w]=m.useState(0),[u,x]=m.useState(0),[R,S]=m.useState(null),g=m.useRef(null),p=m.useRef(null),A=m.useRef(null),D=m.useRef(),B=f=>{var _;const v=(_=f.target.files)==null?void 0:_[0];v&&T(v)},T=f=>{if(!f.type.startsWith("image/")){alert("Please select an image file!");return}typeof window<"u"&&window.gtag&&window.gtag("event","file_upload",{event_category:"walnut_cropper",event_label:"image_upload",value:1});const v=new FileReader;v.onload=_=>{var k;const E=(k=_.target)==null?void 0:k.result;n(E),t([]),a(!1)},v.readAsDataURL(f)},I=f=>{f.preventDefault()},F=f=>{f.preventDefault();const v=f.dataTransfer.files;v.length>0&&T(v[0])},P=m.useCallback(()=>{p.current&&(p.current.style.transform="translate(50px, 50px)",p.current.style.width="150px",p.current.style.height="150px",p.current.style.display="block")},[]),j=f=>{if(!f.target.classList.contains("crop-handle")){if(d(!0),p.current){const v=p.current.getBoundingClientRect();w(f.clientX-v.left),x(f.clientY-v.top)}f.preventDefault()}},b=f=>{c(!0);const v=f.target.classList[1];S(v),f.preventDefault(),f.stopPropagation()},W=m.useCallback(f=>{!p.current||!g.current||(D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{requestAnimationFrame(()=>{if(s){const v=g.current.getBoundingClientRect();let _=f.clientX-v.left-l,E=f.clientY-v.top-u;_=Math.max(0,Math.min(_,g.current.offsetWidth-p.current.offsetWidth)),E=Math.max(0,Math.min(E,g.current.offsetHeight-p.current.offsetHeight)),p.current.style.transform=`translate(${_}px, ${E}px)`}else if(h){const v=g.current.getBoundingClientRect(),_=f.clientX-v.left,E=f.clientY-v.top;y(_,E)}})},16))},[s,h,l,u,R]),y=(f,v)=>{if(!p.current||!g.current)return;const E=p.current.style.transform.match(/translate\((\d+)px,\s*(\d+)px\)/),k=E?parseInt(E[1]):50,U=E?parseInt(E[2]):50,le=parseInt(p.current.style.width),Z=parseInt(p.current.style.height);switch(R){case"se":p.current.style.width=Math.min(f-k,g.current.offsetWidth-k)+"px",p.current.style.height=Math.min(v-U,g.current.offsetHeight-U)+"px";break;case"nw":const J=k+le-f,Q=U+Z-v;f>=0&&v>=0&&J>20&&Q>20&&(p.current.style.transform=`translate(${f}px, ${v}px)`,p.current.style.width=J+"px",p.current.style.height=Q+"px");break;case"ne":const G=f-k,X=U+Z-v;v>=0&&G>20&&X>20&&(p.current.style.transform=`translate(${k}px, ${v}px)`,p.current.style.width=Math.min(G,g.current.offsetWidth-k)+"px",p.current.style.height=X+"px");break;case"sw":const Y=k+le-f,ee=v-U;f>=0&&Y>20&&ee>20&&(p.current.style.transform=`translate(${f}px, ${U}px)`,p.current.style.width=Y+"px",p.current.style.height=Math.min(ee,g.current.offsetHeight-U)+"px");break}},H=m.useCallback(()=>{d(!1),c(!1),S(null)},[]),K=()=>{if(!p.current||!g.current)return;const f=parseInt(p.current.style.width),v=parseInt(p.current.style.height);if(f<20||v<20){alert("Crop area too small, please adjust the selection box!");return}const _=document.createElement("canvas"),E=_.getContext("2d");if(!E)return;const k=g.current.naturalWidth/g.current.offsetWidth,U=g.current.naturalHeight/g.current.offsetHeight,Z=p.current.style.transform.match(/translate\((\d+)px,\s*(\d+)px\)/),J=(Z?parseInt(Z[1]):50)*k,Q=(Z?parseInt(Z[2]):50)*U,G=f*k,X=v*U;if(_.width=G,_.height=X,g.current.complete&&g.current.naturalHeight!==0){E.drawImage(g.current,J,Q,G,X,0,0,G,X);const Y=_.toDataURL("image/png",1);if(Y&&Y.length>100){const ee={dataUrl:Y,name:`Walnut_${e.length+1}.png`};t([...e,ee]),typeof window<"u"&&window.gtag&&window.gtag("event","crop_added",{event_category:"walnut_cropper",event_label:"crop_added",value:e.length+1}),alert(`Added ${e.length+1} crop area!
Tip: You can continue selecting other walnut areas`)}else alert("Crop failed, please try again!")}else alert("Image not fully loaded, please wait a moment!")},M=()=>{p.current&&(p.current.style.transform="translate(50px, 50px)",p.current.style.width="150px",p.current.style.height="150px")},z=()=>{if(e.length===0){alert("Please add some crop areas first!");return}a(!0)},ce=f=>{const v=e[f];typeof window<"u"&&window.gtag&&window.gtag("event","single_download",{event_category:"walnut_cropper",event_label:"single_download",value:1});const _=document.createElement("a");_.download=v.name,_.href=v.dataUrl,_.style.display="none",document.body.appendChild(_),_.click(),setTimeout(()=>{document.body.removeChild(_)},100)},C=()=>{if(e.length===0){alert("No images to download!");return}typeof window<"u"&&window.gtag&&window.gtag("event","batch_download",{event_category:"walnut_cropper",event_label:"batch_download",value:e.length});let f=0;const v=()=>{if(f>=e.length){alert(`Successfully downloaded ${e.length} images!`);return}const _=e[f],E=document.createElement("a");E.download=_.name,E.href=_.dataUrl,E.style.display="none",document.body.appendChild(E),E.click(),setTimeout(()=>{document.body.removeChild(E),f++,v()},500)};v()},L=()=>{a(!1)};return m.useEffect(()=>{o&&setTimeout(P,100)},[o,P]),m.useEffect(()=>(document.addEventListener("mousemove",W),document.addEventListener("mouseup",H),()=>{document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",H)}),[W,H]),m.useEffect(()=>{typeof window<"u"&&window.gtag&&window.gtag("config","G-N7DB775N0W",{page_title:"Walnut Image Cropper",page_location:window.location.href}),typeof window<"u"&&window.clarity&&window.clarity("set","page_title","Walnut Image Cropper")},[]),i.jsx("div",{className:"walnut-cropper",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"header",children:[i.jsx("h1",{children:"🥜 Walnut Image Cropper"}),i.jsx("p",{children:"Easily crop multiple walnut images into individual files"})]}),i.jsxs("div",{className:"instructions",children:[i.jsx("h4",{children:"📖 Instructions:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Click the upload area to select your walnut image"}),i.jsx("li",{children:"Drag on the image to select the area to crop"}),i.jsx("li",{children:"You can adjust the selection box size and position"}),i.jsx("li",{children:'Click "Add Crop" to save the current selection'}),i.jsx("li",{children:"Repeat the operation to crop multiple walnuts"}),i.jsx("li",{children:"Finally download all crop results in batch"})]})]}),!o&&i.jsxs("div",{className:"upload-section",children:[i.jsxs("div",{className:"upload-area",onClick:()=>{var f;return(f=A.current)==null?void 0:f.click()},onDragOver:I,onDrop:F,children:[i.jsx("div",{className:"upload-icon",children:"📸"}),i.jsx("div",{className:"upload-text",children:"Click to select image or drag here"}),i.jsx("div",{className:"upload-hint",children:"Supports JPG, PNG, GIF formats"})]}),i.jsx("input",{type:"file",ref:A,accept:"image/*",onChange:B,style:{display:"none"}})]}),o&&!r&&i.jsxs("div",{className:"crop-section",children:[i.jsxs("div",{className:"image-container",children:[i.jsx("img",{ref:g,src:o,alt:"Original",onLoad:P}),i.jsxs("div",{ref:p,className:"crop-overlay",onMouseDown:j,children:[i.jsx("div",{className:"crop-handle nw",onMouseDown:b}),i.jsx("div",{className:"crop-handle ne",onMouseDown:b}),i.jsx("div",{className:"crop-handle sw",onMouseDown:b}),i.jsx("div",{className:"crop-handle se",onMouseDown:b})]})]}),i.jsxs("div",{className:"controls",children:[i.jsx("button",{className:"btn",onClick:K,children:"➕ Add Crop"}),i.jsx("button",{className:"btn secondary",onClick:M,children:"🔄 Reset Selection"}),i.jsx("button",{className:"btn secondary",onClick:z,children:"📋 View Results"})]})]}),r&&i.jsxs("div",{className:"results",children:[i.jsx("h3",{children:"🎉 Crop Results"}),i.jsx("div",{className:"cropped-images",children:e.map((f,v)=>i.jsxs("div",{className:"cropped-item",children:[i.jsx("img",{src:f.dataUrl,alt:f.name}),i.jsx("div",{children:f.name}),i.jsx("button",{className:"download-btn",onClick:()=>ce(v),children:"📥 Download"})]},v))}),i.jsxs("div",{className:"controls",children:[i.jsx("button",{className:"btn",onClick:C,children:"📥 Download All"}),i.jsx("button",{className:"btn secondary",onClick:L,children:"↩️ Continue Editing"})]})]})]})})}function Dt(){const[o,n]=m.useState("main"),[e,t]=m.useState(null),[r,a]=m.useState({x:0,y:0}),[s,d]=m.useState(1),[h,c]=m.useState(0),[l,w]=m.useState(1),[u,x]=m.useState(null),[R,S]=m.useState("png"),[g,p]=m.useState(!1),[A,D]=m.useState(24),[B,T]=m.useState("#ffffff"),[I,F]=m.useState(0),[P,j]=m.useState({brightness:100,contrast:100,saturation:100,grayscale:0,sepia:0,blur:0}),[b,W]=m.useState(!0),[y,H]=m.useState(!1),K=m.useCallback((C,L)=>{x(L)},[]),M=async C=>{try{const L=C[0],f=await Rt(L),v=await bt(f);t(v)}catch(L){console.error("Failed to load image file:",L)}},z=async()=>{if(!(!e||!u)){H(!0);try{const C=await St(e,u,{rotation:h,format:R,mask:g?"circle":"rect",radius:A,borderColor:B,borderWidth:I,filters:P});jt.saveAs(C,`clipcrop.${R}`)}catch(C){console.error("Failed to export image file:",C)}finally{H(!1)}}},ce=C=>{w(C.width/C.height)};return i.jsxs("div",{className:"app",children:[i.jsx("header",{children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"topbar",children:[i.jsxs("div",{className:"brand",children:[i.jsx("img",{src:"/icons/favicon-192.png",alt:"ClipCrop",width:"32",height:"32"}),i.jsx("h1",{children:"ClipCrop"})]}),i.jsxs("nav",{className:"nav-menu",children:[i.jsx("button",{className:`nav-btn ${o==="main"?"active":""}`,onClick:()=>n("main"),children:"Full Image Cropper"}),i.jsx("button",{className:`nav-btn ${o==="partial"?"active":""}`,onClick:()=>n("partial"),children:"Partial Image Cropper"})]})]})})}),i.jsx("main",{children:o==="main"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"canvas-wrap",children:e?i.jsx(i.Fragment,{children:i.jsx(yt,{image:e,crop:r,zoom:s,rotation:h,aspect:l,onCropChange:a,onZoomChange:d,onRotationChange:c,onCropComplete:K,showGrid:b,objectFit:"contain"})}):i.jsxs("div",{className:"dropzone",children:[i.jsx("p",{children:"Drag and drop images here or click to browse"}),i.jsx("input",{type:"file",accept:"image/*",id:"file-input",style:{display:"none"},onChange:C=>{const L=C.target.files;L&&L.length>0&&M(Array.from(L))}}),i.jsx("button",{className:"browse-btn",onClick:()=>{var C;return(C=document.getElementById("file-input"))==null?void 0:C.click()},children:"Choose File"})]})}),i.jsx("aside",{children:i.jsxs("div",{className:"controls",children:[i.jsxs("div",{className:"group",children:[i.jsx("h4",{children:"Presets"}),i.jsx("div",{className:"preset-grid",children:Ct.slice(0,8).map((C,L)=>i.jsxs("button",{onClick:()=>ce(C),className:"preset-btn",children:[C.platform," ",C.type]},L))})]}),i.jsxs("div",{className:"group",children:[i.jsx("h4",{children:"Crop Settings"}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Aspect Ratio"}),i.jsxs("select",{value:l||"custom",onChange:C=>w(C.target.value==="custom"?void 0:parseFloat(C.target.value)),children:[i.jsx("option",{value:"custom",children:"Custom"}),i.jsx("option",{value:"1",children:"1:1 Square"}),i.jsx("option",{value:"1.91",children:"1.91:1 Landscape"}),i.jsx("option",{value:"0.75",children:"4:3 Portrait"}),i.jsx("option",{value:"1.33",children:"4:3 Landscape"})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Circle Crop"}),i.jsx("input",{type:"checkbox",checked:g,onChange:C=>p(C.target.checked)})]}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Border Radius"}),i.jsx("input",{type:"number",value:A,onChange:C=>D(parseInt(C.target.value)),min:"0",max:"100"})]})]}),i.jsxs("div",{className:"group",children:[i.jsx("h4",{children:"Effects"}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Brightness"}),i.jsx("input",{type:"range",min:"0",max:"200",value:P.brightness,onChange:C=>j({...P,brightness:parseInt(C.target.value)})})]}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Contrast"}),i.jsx("input",{type:"range",min:"0",max:"200",value:P.contrast,onChange:C=>j({...P,contrast:parseInt(C.target.value)})})]}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Saturation"}),i.jsx("input",{type:"range",min:"0",max:"200",value:P.saturation,onChange:C=>j({...P,saturation:parseInt(C.target.value)})})]})]}),i.jsxs("div",{className:"group",children:[i.jsx("h4",{children:"Export"}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Format"}),i.jsxs("select",{value:R,onChange:C=>S(C.target.value),children:[i.jsx("option",{value:"png",children:"PNG"}),i.jsx("option",{value:"jpeg",children:"JPEG"}),i.jsx("option",{value:"webp",children:"WebP"})]})]}),i.jsx("button",{className:"primary",onClick:z,disabled:y||!e,children:y?"Processing...":"Export Image"})]})]})})]}):i.jsx(Et,{})})]})}ue.createRoot(document.getElementById("root")).render(i.jsx(Be.StrictMode,{children:i.jsx(Dt,{})}));
