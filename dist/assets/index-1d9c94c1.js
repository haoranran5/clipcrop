import{r as v,a as Le,g as We,c as ke,R as Fe}from"./vendor-2f5676f8.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();var _e={exports:{}},ne={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ue=v,He=Symbol.for("react.element"),Ze=Symbol.for("react.fragment"),Be=Object.prototype.hasOwnProperty,Ge=Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xe={key:!0,ref:!0,__self:!0,__source:!0};function De(n,o,e){var t,r={},a=null,s=null;e!==void 0&&(a=""+e),o.key!==void 0&&(a=""+o.key),o.ref!==void 0&&(s=o.ref);for(t in o)Be.call(o,t)&&!Xe.hasOwnProperty(t)&&(r[t]=o[t]);if(n&&n.defaultProps)for(t in o=n.defaultProps,o)r[t]===void 0&&(r[t]=o[t]);return{$$typeof:He,type:n,key:a,ref:s,props:r,_owner:Ge.current}}ne.Fragment=Ze;ne.jsx=De;ne.jsxs=De;_e.exports=ne;var i=_e.exports,ce={},we=Le;ce.createRoot=we.createRoot,ce.hydrateRoot=we.hydrateRoot;var le=function(n,o){return le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},le(n,o)};function Ye(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");le(n,o);function e(){this.constructor=n}n.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var P=function(){return P=Object.assign||function(o){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=e[a])}return o},P.apply(this,arguments)};var xe=!1,H,ue,de,te,re,Pe,oe,he,pe,fe,Me,me,ge,Ne,Ae;function T(){if(!xe){xe=!0;var n=navigator.userAgent,o=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),e=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(me=/\b(iPhone|iP[ao]d)/.exec(n),ge=/\b(iP[ao]d)/.exec(n),fe=/Android/i.exec(n),Ne=/FBAN\/\w+;/i.exec(n),Ae=/Mobile/i.exec(n),Me=!!/Win64/.exec(n),o){H=o[1]?parseFloat(o[1]):o[5]?parseFloat(o[5]):NaN,H&&document&&document.documentMode&&(H=document.documentMode);var t=/(?:Trident\/(\d+.\d+))/.exec(n);Pe=t?parseFloat(t[1])+4:H,ue=o[2]?parseFloat(o[2]):NaN,de=o[3]?parseFloat(o[3]):NaN,te=o[4]?parseFloat(o[4]):NaN,te?(o=/(?:Chrome\/(\d+\.\d+))/.exec(n),re=o&&o[1]?parseFloat(o[1]):NaN):re=NaN}else H=ue=de=re=te=NaN;if(e){if(e[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);oe=r?parseFloat(r[1].replace("_",".")):!0}else oe=!1;he=!!e[2],pe=!!e[3]}else oe=he=pe=!1}}var ve={ie:function(){return T()||H},ieCompatibilityMode:function(){return T()||Pe>H},ie64:function(){return ve.ie()&&Me},firefox:function(){return T()||ue},opera:function(){return T()||de},webkit:function(){return T()||te},safari:function(){return ve.webkit()},chrome:function(){return T()||re},windows:function(){return T()||he},osx:function(){return T()||oe},linux:function(){return T()||pe},iphone:function(){return T()||me},mobile:function(){return T()||me||ge||fe||Ae},nativeApp:function(){return T()||Ne},android:function(){return T()||fe},ipad:function(){return T()||ge}},$e=ve,Q=!!(typeof window<"u"&&window.document&&window.document.createElement),qe={canUseDOM:Q,canUseWorkers:typeof Worker<"u",canUseEventListeners:Q&&!!(window.addEventListener||window.attachEvent),canUseViewport:Q&&!!window.screen,isInWorker:!Q},Ve=qe,ze=Ve,Ie;ze.canUseDOM&&(Ie=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Ke(n,o){if(!ze.canUseDOM||o&&!("addEventListener"in document))return!1;var e="on"+n,t=e in document;if(!t){var r=document.createElement("div");r.setAttribute(e,"return;"),t=typeof r[e]=="function"}return!t&&Ie&&n==="wheel"&&(t=document.implementation.hasFeature("Events.wheel","3.0")),t}var Je=Ke,Qe=$e,et=Je,ye=10,Ce=40,be=800;function Te(n){var o=0,e=0,t=0,r=0;return"detail"in n&&(e=n.detail),"wheelDelta"in n&&(e=-n.wheelDelta/120),"wheelDeltaY"in n&&(e=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(o=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(o=e,e=0),t=o*ye,r=e*ye,"deltaY"in n&&(r=n.deltaY),"deltaX"in n&&(t=n.deltaX),(t||r)&&n.deltaMode&&(n.deltaMode==1?(t*=Ce,r*=Ce):(t*=be,r*=be)),t&&!o&&(o=t<1?-1:1),r&&!e&&(e=r<1?-1:1),{spinX:o,spinY:e,pixelX:t,pixelY:r}}Te.getEventType=function(){return Qe.firefox()?"DOMMouseScroll":et("wheel")?"wheel":"mousewheel"};var tt=Te,rt=tt;const ot=We(rt);function nt(n,o,e,t,r,a){a===void 0&&(a=0);var s=X(n,o,a),u=s.width,f=s.height,c=Math.min(u,e),l=Math.min(f,t);return c>l*r?{width:l*r,height:l}:{width:c,height:c/r}}function it(n){return n.width>n.height?n.width/n.naturalWidth:n.height/n.naturalHeight}function $(n,o,e,t,r){r===void 0&&(r=0);var a=X(o.width,o.height,r),s=a.width,u=a.height;return{x:Re(n.x,s,e.width,t),y:Re(n.y,u,e.height,t)}}function Re(n,o,e,t){var r=o*t/2-e/2;return ie(n,-r,r)}function Se(n,o){return Math.sqrt(Math.pow(n.y-o.y,2)+Math.pow(n.x-o.x,2))}function je(n,o){return Math.atan2(o.y-n.y,o.x-n.x)*180/Math.PI}function at(n,o,e,t,r,a,s){a===void 0&&(a=0),s===void 0&&(s=!0);var u=s?st:ct,f=X(o.width,o.height,a),c=X(o.naturalWidth,o.naturalHeight,a),l={x:u(100,((f.width-e.width/r)/2-n.x/r)/f.width*100),y:u(100,((f.height-e.height/r)/2-n.y/r)/f.height*100),width:u(100,e.width/f.width*100/r),height:u(100,e.height/f.height*100/r)},w=Math.round(u(c.width,l.width*c.width/100)),p=Math.round(u(c.height,l.height*c.height/100)),y=c.width>=c.height*t,R=y?{width:Math.round(p*t),height:p}:{width:w,height:Math.round(w/t)},E=P(P({},R),{x:Math.round(u(c.width-R.width,l.x*c.width/100)),y:Math.round(u(c.height-R.height,l.y*c.height/100))});return{croppedAreaPercentages:l,croppedAreaPixels:E}}function st(n,o){return Math.min(n,Math.max(0,o))}function ct(n,o){return o}function lt(n,o,e,t,r,a){var s=X(o.width,o.height,e),u=ie(t.width/s.width*(100/n.width),r,a),f={x:u*s.width/2-t.width/2-s.width*u*(n.x/100),y:u*s.height/2-t.height/2-s.height*u*(n.y/100)};return{crop:f,zoom:u}}function ut(n,o,e){var t=it(o);return e.height>e.width?e.height/(n.height*t):e.width/(n.width*t)}function dt(n,o,e,t,r,a){e===void 0&&(e=0);var s=X(o.naturalWidth,o.naturalHeight,e),u=ie(ut(n,o,t),r,a),f=t.height>t.width?t.height/n.height:t.width/n.width,c={x:((s.width-n.width)/2-n.x)*f,y:((s.height-n.height)/2-n.y)*f};return{crop:c,zoom:u}}function Ee(n,o){return{x:(o.x+n.x)/2,y:(o.y+n.y)/2}}function ht(n){return n*Math.PI/180}function X(n,o,e){var t=ht(e);return{width:Math.abs(Math.cos(t)*n)+Math.abs(Math.sin(t)*o),height:Math.abs(Math.sin(t)*n)+Math.abs(Math.cos(t)*o)}}function ie(n,o,e){return Math.min(Math.max(n,o),e)}function ee(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return n.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var pt=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,ft=1,mt=3,gt=1,vt=function(n){Ye(o,n);function o(){var e=n!==null&&n.apply(this,arguments)||this;return e.cropperRef=v.createRef(),e.imageRef=v.createRef(),e.videoRef=v.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var t=!0;e.resizeObserver=new window.ResizeObserver(function(r){if(t){t=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(t){return t.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var t=e.computeSizes();t&&(e.emitCropData(),e.setInitialCrop(t)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(t){if(e.props.initialCroppedAreaPercentages){var r=lt(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),a=r.crop,s=r.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(s)}else if(e.props.initialCroppedAreaPixels){var u=dt(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,t,e.props.minZoom,e.props.maxZoom),a=u.crop,s=u.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(s)}},e.computeSizes=function(){var t,r,a,s,u,f,c=e.imageRef.current||e.videoRef.current;if(c&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var l=e.containerRect.width/e.containerRect.height,w=((t=e.imageRef.current)===null||t===void 0?void 0:t.naturalWidth)||((r=e.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,p=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((s=e.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,y=c.offsetWidth<w||c.offsetHeight<p,R=w/p,E=void 0;if(y)switch(e.state.mediaObjectFit){default:case"contain":E=l>R?{width:e.containerRect.height*R,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/R};break;case"horizontal-cover":E={width:e.containerRect.width,height:e.containerRect.width/R};break;case"vertical-cover":E={width:e.containerRect.height*R,height:e.containerRect.height};break}else E={width:c.offsetWidth,height:c.offsetHeight};e.mediaSize=P(P({},E),{naturalWidth:w,naturalHeight:p}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var m=e.props.cropSize?e.props.cropSize:nt(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((u=e.state.cropSize)===null||u===void 0?void 0:u.height)!==m.height||((f=e.state.cropSize)===null||f===void 0?void 0:f.width)!==m.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(m),e.setState({cropSize:m},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(m),m}},e.saveContainerPosition=function(){if(e.containerRef){var t=e.containerRef.getBoundingClientRect();e.containerPosition={x:t.left,y:t.top}}},e.onMouseDown=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(o.getMousePoint(t)))},e.onMouseMove=function(t){return e.onDrag(o.getMousePoint(t))},e.onScroll=function(t){e.currentDoc&&(t.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(t){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(t))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),t.touches.length===2?e.onPinchStart(t):t.touches.length===1&&e.onDragStart(o.getTouchPoint(t.touches[0]))))},e.onTouchMove=function(t){t.preventDefault(),t.touches.length===2?e.onPinchMove(t):t.touches.length===1&&e.onDrag(o.getTouchPoint(t.touches[0]))},e.onGestureStart=function(t){e.currentDoc&&(t.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(t){if(t.preventDefault(),!e.isTouching){var r=o.getMousePoint(t),a=e.gestureZoomStart-1+t.scale;if(e.setNewZoom(a,r,{shouldUpdatePosition:!0}),e.props.onRotationChange){var s=e.gestureRotationStart+t.rotation;e.props.onRotationChange(s)}}},e.onGestureEnd=function(t){e.cleanEvents()},e.onDragStart=function(t){var r,a,s=t.x,u=t.y;e.dragStartPosition={x:s,y:u},e.dragStartCrop=P({},e.props.crop),(a=(r=e.props).onInteractionStart)===null||a===void 0||a.call(r)},e.onDrag=function(t){var r=t.x,a=t.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(r===void 0||a===void 0)){var s=r-e.dragStartPosition.x,u=a-e.dragStartPosition.y,f={x:e.dragStartCrop.x+s,y:e.dragStartCrop.y+u},c=e.props.restrictPosition?$(f,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):f;e.props.onCropChange(c)}}))},e.onDragStopped=function(){var t,r;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(r=(t=e.props).onInteractionEnd)===null||r===void 0||r.call(t)},e.onWheel=function(t){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(t))){t.preventDefault();var r=o.getMousePoint(t),a=ot(t).pixelY,s=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(s,r,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var u,f;return(f=(u=e.props).onInteractionStart)===null||f===void 0?void 0:f.call(u)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var u,f;return(f=(u=e.props).onInteractionEnd)===null||f===void 0?void 0:f.call(u)})},250)}},e.getPointOnContainer=function(t,r){var a=t.x,s=t.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(a-r.x),y:e.containerRect.height/2-(s-r.y)}},e.getPointOnMedia=function(t){var r=t.x,a=t.y,s=e.props,u=s.crop,f=s.zoom;return{x:(r+u.x)/f,y:(a+u.y)/f}},e.setNewZoom=function(t,r,a){var s=a===void 0?{}:a,u=s.shouldUpdatePosition,f=u===void 0?!0:u;if(!(!e.state.cropSize||!e.props.onZoomChange)){var c=ie(t,e.props.minZoom,e.props.maxZoom);if(f){var l=e.getPointOnContainer(r,e.containerPosition),w=e.getPointOnMedia(l),p={x:w.x*c-l.x,y:w.y*c-l.y},y=e.props.restrictPosition?$(p,e.mediaSize,e.state.cropSize,c,e.props.rotation):p;e.props.onCropChange(y)}e.props.onZoomChange(c)}},e.getCropData=function(){if(!e.state.cropSize)return null;var t=e.props.restrictPosition?$(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return at(t,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var t=e.getCropData();if(t){var r=t.croppedAreaPercentages,a=t.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(r,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(r,a)}},e.emitCropAreaChange=function(){var t=e.getCropData();if(t){var r=t.croppedAreaPercentages,a=t.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(r,a)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var t=e.props.restrictPosition?$(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(t),e.emitCropData()}},e.onKeyDown=function(t){var r,a,s=e.props,u=s.crop,f=s.onCropChange,c=s.keyboardStep,l=s.zoom,w=s.rotation,p=c;if(e.state.cropSize){t.shiftKey&&(p*=.2);var y=P({},u);switch(t.key){case"ArrowUp":y.y-=p,t.preventDefault();break;case"ArrowDown":y.y+=p,t.preventDefault();break;case"ArrowLeft":y.x-=p,t.preventDefault();break;case"ArrowRight":y.x+=p,t.preventDefault();break;default:return}e.props.restrictPosition&&(y=$(y,e.mediaSize,e.state.cropSize,l,w)),t.repeat||(a=(r=e.props).onInteractionStart)===null||a===void 0||a.call(r),f(y)}},e.onKeyUp=function(t){var r,a;switch(t.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":t.preventDefault();break;default:return}e.emitCropData(),(a=(r=e.props).onInteractionEnd)===null||a===void 0||a.call(r)},e}return o.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=pt,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},o.prototype.componentWillUnmount=function(){var e,t;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((t=this.styleRef.parentNode)===null||t===void 0||t.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(e){var t,r,a,s,u,f,c,l,w;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((t=e.cropSize)===null||t===void 0?void 0:t.height)!==((r=this.props.cropSize)===null||r===void 0?void 0:r.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.width)?this.computeSizes():(((u=e.crop)===null||u===void 0?void 0:u.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((c=e.crop)===null||c===void 0?void 0:c.y)!==((l=this.props.crop)===null||l===void 0?void 0:l.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((w=this.videoRef.current)===null||w===void 0||w.load());var p=this.getObjectFit();p!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:p},this.computeSizes)},o.prototype.getAspect=function(){var e=this.props,t=e.cropSize,r=e.aspect;return t?t.width/t.height:r},o.prototype.getObjectFit=function(){var e,t,r,a;if(this.props.objectFit==="cover"){var s=this.imageRef.current||this.videoRef.current;if(s&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,f=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((t=this.videoRef.current)===null||t===void 0?void 0:t.videoWidth)||0,c=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,l=f/c;return l<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(e){var t=o.getTouchPoint(e.touches[0]),r=o.getTouchPoint(e.touches[1]);this.lastPinchDistance=Se(t,r),this.lastPinchRotation=je(t,r),this.onDragStart(Ee(t,r))},o.prototype.onPinchMove=function(e){var t=this;if(!(!this.currentDoc||!this.currentWindow)){var r=o.getTouchPoint(e.touches[0]),a=o.getTouchPoint(e.touches[1]),s=Ee(r,a);this.onDrag(s),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=Se(r,a),f=t.props.zoom*(u/t.lastPinchDistance);t.setNewZoom(f,s,{shouldUpdatePosition:!1}),t.lastPinchDistance=u;var c=je(r,a),l=t.props.rotation+(c-t.lastPinchRotation);t.props.onRotationChange&&t.props.onRotationChange(l),t.lastPinchRotation=c})}},o.prototype.render=function(){var e=this,t,r=this.props,a=r.image,s=r.video,u=r.mediaProps,f=r.cropperProps,c=r.transform,l=r.crop,w=l.x,p=l.y,y=r.rotation,R=r.zoom,E=r.cropShape,m=r.showGrid,d=r.roundCropAreaPixels,M=r.style,N=M.containerStyle,k=M.cropAreaStyle,O=M.mediaStyle,I=r.classes,L=I.containerClassName,A=I.cropAreaClassName,j=I.mediaClassName,S=(t=this.state.mediaObjectFit)!==null&&t!==void 0?t:this.getObjectFit();return v.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(x){return e.containerRef=x},"data-testid":"container",style:N,className:ee("reactEasyCrop_Container",L)},a?v.createElement("img",P({alt:"",className:ee("reactEasyCrop_Image",S==="contain"&&"reactEasyCrop_Contain",S==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",S==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",j)},u,{src:a,ref:this.imageRef,style:P(P({},O),{transform:c||"translate(".concat(w,"px, ").concat(p,"px) rotate(").concat(y,"deg) scale(").concat(R,")")}),onLoad:this.onMediaLoad})):s&&v.createElement("video",P({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ee("reactEasyCrop_Video",S==="contain"&&"reactEasyCrop_Contain",S==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",S==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",j)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:P(P({},O),{transform:c||"translate(".concat(w,"px, ").concat(p,"px) rotate(").concat(y,"deg) scale(").concat(R,")")}),controls:!1}),(Array.isArray(s)?s:[{src:s}]).map(function(W){return v.createElement("source",P({key:W.src},W))})),this.state.cropSize&&v.createElement("div",P({ref:this.cropperRef,style:P(P({},k),{width:d?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:d?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ee("reactEasyCrop_CropArea",E==="round"&&"reactEasyCrop_CropAreaRound",m&&"reactEasyCrop_CropAreaGrid",A)},f)))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:mt,minZoom:ft,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:gt},o.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o}(v.Component);const wt=[{platform:"Instagram",type:"Post",width:1080,height:1080,category:"social"},{platform:"Instagram",type:"Story",width:1080,height:1920,category:"social"},{platform:"Twitter/X",type:"Banner",width:1500,height:500,category:"social"},{platform:"Facebook",type:"Cover",width:820,height:312,category:"social"},{platform:"LinkedIn",type:"Cover",width:1584,height:396,category:"social"},{platform:"YouTube",type:"Thumbnail",width:1280,height:720,category:"social"},{platform:"Universal",type:"Avatar",width:512,height:512,category:"avatar"},{platform:"Universal",type:"Square",width:1e3,height:1e3,category:"general"}];async function xt(n){return new Promise((o,e)=>{const t=new FileReader;t.onload=()=>o(t.result),t.onerror=e,t.readAsDataURL(n)})}async function yt(n){try{const o=await createImageBitmap(n,{imageOrientation:"from-image"}),e=document.createElement("canvas");return e.width=o.width,e.height=o.height,e.getContext("2d").drawImage(o,0,0),await new Promise(a=>e.toBlob(s=>a(s),n.type||"image/png",.92))}catch{return n}}async function Ct(n,o,e={}){const{rotation:t=0,format:r="png",quality:a=.92,mask:s="rect",radius:u=24,outSize:f,borderColor:c,borderWidth:l,padding:w=0,background:p=null,shadow:y,filters:R=null,feather:E=0}=e,m=await bt(n),d=Math.max(m.width,m.height)*1.5,M=document.createElement("canvas");M.width=d,M.height=d;const N=M.getContext("2d");N.translate(d/2,d/2),N.rotate(t*Math.PI/180),N.translate(-d/2,-d/2),N.drawImage(m,(d-m.width)/2,(d-m.height)/2);const k=N.getImageData(0,0,d,d),O=Math.round(o.width+w*2),I=Math.round(o.height+w*2),L=document.createElement("canvas");L.width=O,L.height=I;const A=L.getContext("2d");p?(A.fillStyle=p,A.fillRect(0,0,O,I)):A.clearRect(0,0,O,I),A.putImageData(k,Math.round(-(d/2)+m.width/2-(o.x-w)),Math.round(-(d/2)+m.height/2-(o.y-w)));let j=O,S=I;if(s==="circle"){const D=Math.min(O,I);j=D,S=D}let W=document.createElement("canvas");W.width=j,W.height=S;const x=W.getContext("2d");if(p?(x.fillStyle=p,x.fillRect(0,0,j,S)):x.clearRect(0,0,j,S),R&&(x.filter=`brightness(${R.brightness}%) contrast(${R.contrast}%) saturate(${R.saturation}%) grayscale(${R.grayscale}%) sepia(${R.sepia}%) blur(${R.blur}px)`),x.save(),s==="circle"){const D=Math.min(O,I);x.beginPath(),x.arc(j/2,S/2,D/2,0,Math.PI*2),x.closePath(),x.clip(),x.drawImage(L,Math.floor((O-j)/2)*-1,Math.floor((I-S)/2)*-1)}else s==="roundRect"&&(se(x,0,0,j,S,u),x.clip()),x.drawImage(L,0,0,j,S);if(x.restore(),E&&E>0&&(s==="circle"||s==="roundRect")){const D=document.createElement("canvas");D.width=j,D.height=S;const z=D.getContext("2d");s==="circle"?(z.beginPath(),z.arc(j/2,S/2,Math.min(j,S)/2-E/2,0,Math.PI*2),z.closePath(),z.fillStyle="#000",z.fill()):(se(z,E/2,E/2,j-E,S-E,Math.max(0,u-E/2)),z.fillStyle="#000",z.fill()),z.filter=`blur(${E}px)`,z.drawImage(D,0,0),x.save(),x.globalCompositeOperation="destination-in",x.drawImage(D,0,0),x.restore()}if((s==="roundRect"||s==="circle")&&l&&l>0){if(x.save(),x.lineWidth=l,x.strokeStyle=c||"#fff",s==="circle"){const D=Math.min(j,S)/2-l/2;x.beginPath(),x.arc(j/2,S/2,D,0,Math.PI*2),x.stroke()}else se(x,l/2,l/2,j-l,S-l,Math.max(0,u-l/2)),x.stroke();x.restore()}const U=s!=="rect"&&r==="jpeg"?"png":r;return await new Promise(D=>W.toBlob(z=>D(z),"image/"+(U==="jpeg"?"jpeg":U),a))}function se(n,o,e,t,r,a){const s=Math.min(a,Math.min(t,r)/2);n.beginPath(),n.moveTo(o+s,e),n.arcTo(o+t,e,o+t,e+r,s),n.arcTo(o+t,e+r,o,e+r,s),n.arcTo(o,e+r,o,e,s),n.arcTo(o,e,o+t,e,s),n.closePath()}function bt(n){return new Promise((o,e)=>{const t=new Image;t.crossOrigin="anonymous",t.onload=()=>o(t),t.onerror=e,t.src=n})}var Oe={exports:{}};(function(n,o){(function(e,t){t()})(ke,function(){function e(c,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function t(c,l,w){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){f(p.response,l,w)},p.onerror=function(){console.error("could not download file")},p.send()}function r(c){var l=new XMLHttpRequest;l.open("HEAD",c,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function a(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(l)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof globalThis=="object"&&globalThis.global===globalThis?globalThis:void 0,u=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(c,l,w){var p=s.URL||s.webkitURL,y=document.createElement("a");l=l||c.name||"download",y.download=l,y.rel="noopener",typeof c=="string"?(y.href=c,y.origin===location.origin?a(y):r(y.href)?t(c,l,w):a(y,y.target="_blank")):(y.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(y.href)},4e4),setTimeout(function(){a(y)},0))}:"msSaveOrOpenBlob"in navigator?function(c,l,w){if(l=l||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(e(c,w),l);else if(r(c))t(c,l,w);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){a(p)})}}:function(c,l,w,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return t(c,l,w);var y=c.type==="application/octet-stream",R=/constructor/i.test(s.HTMLElement)||s.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||y&&R||u)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var N=m.result;N=E?N:N.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=N:location=N,p=null},m.readAsDataURL(c)}else{var d=s.URL||s.webkitURL,M=d.createObjectURL(c);p?p.location=M:location.href=M,p=null,setTimeout(function(){d.revokeObjectURL(M)},4e4)}});s.saveAs=f.saveAs=f,n.exports=f})})(Oe);var Rt=Oe.exports;function St(){const[n,o]=v.useState(null),[e,t]=v.useState([]),[r,a]=v.useState(!1),[s,u]=v.useState(!1),[f,c]=v.useState(!1),[l,w]=v.useState(0),[p,y]=v.useState(0),[R,E]=v.useState(null),m=v.useRef(null),d=v.useRef(null),M=v.useRef(null),N=h=>{var b;const g=(b=h.target.files)==null?void 0:b[0];g&&k(g)},k=h=>{if(!h.type.startsWith("image/")){alert("Please select an image file!");return}const g=new FileReader;g.onload=b=>{var F;const _=(F=b.target)==null?void 0:F.result;o(_),t([]),a(!1)},g.readAsDataURL(h)},O=h=>{h.preventDefault()},I=h=>{h.preventDefault();const g=h.dataTransfer.files;g.length>0&&k(g[0])},L=v.useCallback(()=>{d.current&&(d.current.style.left="50px",d.current.style.top="50px",d.current.style.width="150px",d.current.style.height="150px",d.current.style.display="block")},[]),A=h=>{if(!h.target.classList.contains("crop-handle")){if(u(!0),d.current){const g=d.current.getBoundingClientRect();w(h.clientX-g.left),y(h.clientY-g.top)}h.preventDefault()}},j=h=>{c(!0);const g=h.target.classList[1];E(g),h.preventDefault(),h.stopPropagation()},S=v.useCallback(h=>{if(!(!d.current||!m.current)){if(s){const g=m.current.getBoundingClientRect();let b=h.clientX-g.left-l,_=h.clientY-g.top-p;b=Math.max(0,Math.min(b,m.current.offsetWidth-d.current.offsetWidth)),_=Math.max(0,Math.min(_,m.current.offsetHeight-d.current.offsetHeight)),d.current.style.left=b+"px",d.current.style.top=_+"px"}else if(f){const g=m.current.getBoundingClientRect(),b=h.clientX-g.left,_=h.clientY-g.top;W(b,_)}}},[s,f,l,p,R]),W=(h,g)=>{if(!d.current||!m.current)return;const b=parseInt(d.current.style.left),_=parseInt(d.current.style.top),F=parseInt(d.current.style.width),Y=parseInt(d.current.style.height);switch(R){case"se":d.current.style.width=Math.min(h-b,m.current.offsetWidth-b)+"px",d.current.style.height=Math.min(g-_,m.current.offsetHeight-_)+"px";break;case"nw":const V=b+F-h,K=_+Y-g;h>=0&&g>=0&&V>20&&K>20&&(d.current.style.left=h+"px",d.current.style.top=g+"px",d.current.style.width=V+"px",d.current.style.height=K+"px");break;case"ne":const Z=h-b,B=_+Y-g;g>=0&&Z>20&&B>20&&(d.current.style.top=g+"px",d.current.style.width=Math.min(Z,m.current.offsetWidth-b)+"px",d.current.style.height=B+"px");break;case"sw":const G=b+F-h,J=g-_;h>=0&&G>20&&J>20&&(d.current.style.left=h+"px",d.current.style.width=G+"px",d.current.style.height=Math.min(J,m.current.offsetHeight-_)+"px");break}},x=v.useCallback(()=>{u(!1),c(!1),E(null)},[]),U=()=>{if(!d.current||!m.current)return;const h=parseInt(d.current.style.width),g=parseInt(d.current.style.height);if(h<20||g<20){alert("Crop area too small, please adjust the selection box!");return}const b=document.createElement("canvas"),_=b.getContext("2d");if(!_)return;const F=m.current.naturalWidth/m.current.offsetWidth,Y=m.current.naturalHeight/m.current.offsetHeight,V=parseInt(d.current.style.left)*F,K=parseInt(d.current.style.top)*Y,Z=h*F,B=g*Y;if(b.width=Z,b.height=B,m.current.complete&&m.current.naturalHeight!==0){_.drawImage(m.current,V,K,Z,B,0,0,Z,B);const G=b.toDataURL("image/png",1);if(G&&G.length>100){const J={dataUrl:G,name:`Walnut_${e.length+1}.png`};t([...e,J]),alert(`Added ${e.length+1} crop area!
Tip: You can continue selecting other walnut areas`)}else alert("Crop failed, please try again!")}else alert("Image not fully loaded, please wait a moment!")},q=()=>{d.current&&(d.current.style.left="50px",d.current.style.top="50px",d.current.style.width="150px",d.current.style.height="150px")},D=()=>{if(e.length===0){alert("Please add some crop areas first!");return}a(!0)},z=h=>{const g=e[h],b=document.createElement("a");b.download=g.name,b.href=g.dataUrl,b.style.display="none",document.body.appendChild(b),b.click(),setTimeout(()=>{document.body.removeChild(b)},100)},ae=()=>{if(e.length===0){alert("No images to download!");return}let h=0;const g=()=>{if(h>=e.length){alert(`Successfully downloaded ${e.length} images!`);return}const b=e[h],_=document.createElement("a");_.download=b.name,_.href=b.dataUrl,_.style.display="none",document.body.appendChild(_),_.click(),setTimeout(()=>{document.body.removeChild(_),h++,g()},500)};g()},C=()=>{a(!1)};return v.useEffect(()=>{n&&setTimeout(L,100)},[n,L]),v.useEffect(()=>(document.addEventListener("mousemove",S),document.addEventListener("mouseup",x),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",x)}),[S,x]),i.jsx("div",{className:"walnut-cropper",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"header",children:[i.jsx("h1",{children:"🥜 Walnut Image Cropper"}),i.jsx("p",{children:"Easily crop multiple walnut images into individual files"})]}),i.jsxs("div",{className:"instructions",children:[i.jsx("h4",{children:"📖 Instructions:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Click the upload area to select your walnut image"}),i.jsx("li",{children:"Drag on the image to select the area to crop"}),i.jsx("li",{children:"You can adjust the selection box size and position"}),i.jsx("li",{children:'Click "Add Crop" to save the current selection'}),i.jsx("li",{children:"Repeat the operation to crop multiple walnuts"}),i.jsx("li",{children:"Finally download all crop results in batch"})]})]}),!n&&i.jsxs("div",{className:"upload-section",children:[i.jsxs("div",{className:"upload-area",onClick:()=>{var h;return(h=M.current)==null?void 0:h.click()},onDragOver:O,onDrop:I,children:[i.jsx("div",{className:"upload-icon",children:"📸"}),i.jsx("div",{className:"upload-text",children:"Click to select image or drag here"}),i.jsx("div",{className:"upload-hint",children:"Supports JPG, PNG, GIF formats"})]}),i.jsx("input",{type:"file",ref:M,accept:"image/*",onChange:N,style:{display:"none"}})]}),n&&!r&&i.jsxs("div",{className:"crop-section",children:[i.jsxs("div",{className:"image-container",children:[i.jsx("img",{ref:m,src:n,alt:"Original",onLoad:L}),i.jsxs("div",{ref:d,className:"crop-overlay",onMouseDown:A,children:[i.jsx("div",{className:"crop-handle nw",onMouseDown:j}),i.jsx("div",{className:"crop-handle ne",onMouseDown:j}),i.jsx("div",{className:"crop-handle sw",onMouseDown:j}),i.jsx("div",{className:"crop-handle se",onMouseDown:j})]})]}),i.jsxs("div",{className:"controls",children:[i.jsx("button",{className:"btn",onClick:U,children:"➕ Add Crop"}),i.jsx("button",{className:"btn secondary",onClick:q,children:"🔄 Reset Selection"}),i.jsx("button",{className:"btn secondary",onClick:D,children:"📋 View Results"})]})]}),r&&i.jsxs("div",{className:"results",children:[i.jsx("h3",{children:"🎉 Crop Results"}),i.jsx("div",{className:"cropped-images",children:e.map((h,g)=>i.jsxs("div",{className:"cropped-item",children:[i.jsx("img",{src:h.dataUrl,alt:h.name}),i.jsx("div",{children:h.name}),i.jsx("button",{className:"download-btn",onClick:()=>z(g),children:"📥 Download"})]},g))}),i.jsxs("div",{className:"controls",children:[i.jsx("button",{className:"btn",onClick:ae,children:"📥 Download All"}),i.jsx("button",{className:"btn secondary",onClick:C,children:"↩️ Continue Editing"})]})]})]})})}function jt(){const[n,o]=v.useState("main"),[e,t]=v.useState(null),[r,a]=v.useState({x:0,y:0}),[s,u]=v.useState(1),[f,c]=v.useState(0),[l,w]=v.useState(1),[p,y]=v.useState(null),[R,E]=v.useState("png"),[m,d]=v.useState(!1),[M,N]=v.useState(24),[k,O]=v.useState("#ffffff"),[I,L]=v.useState(0),[A,j]=v.useState({brightness:100,contrast:100,saturation:100,grayscale:0,sepia:0,blur:0}),[S,W]=v.useState(!0),[x,U]=v.useState(!1),q=v.useCallback((C,h)=>{y(h)},[]),D=async C=>{try{const h=C[0],g=await yt(h),b=await xt(g);t(b)}catch(h){console.error("Failed to load image file:",h)}},z=async()=>{if(!(!e||!p)){U(!0);try{const C=await Ct(e,p,{rotation:f,format:R,mask:m?"circle":"rect",radius:M,borderColor:k,borderWidth:I,filters:A});Rt.saveAs(C,`clipcrop.${R}`)}catch(C){console.error("Failed to export image file:",C)}finally{U(!1)}}},ae=C=>{w(C.width/C.height)};return i.jsxs("div",{className:"app",children:[i.jsx("header",{children:i.jsx("div",{className:"container",children:i.jsxs("div",{className:"topbar",children:[i.jsxs("div",{className:"brand",children:[i.jsx("img",{src:"/icons/favicon-192.png",alt:"ClipCrop",width:"32",height:"32"}),i.jsx("h1",{children:"ClipCrop"})]}),i.jsxs("nav",{className:"nav-menu",children:[i.jsx("button",{className:`nav-btn ${n==="main"?"active":""}`,onClick:()=>o("main"),children:"Full Image Cropper"}),i.jsx("button",{className:`nav-btn ${n==="partial"?"active":""}`,onClick:()=>o("partial"),children:"Partial Image Cropper"})]})]})})}),i.jsx("main",{children:n==="main"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"canvas-wrap",children:e?i.jsx(i.Fragment,{children:i.jsx(vt,{image:e,crop:r,zoom:s,rotation:f,aspect:l,onCropChange:a,onZoomChange:u,onRotationChange:c,onCropComplete:q,showGrid:S,objectFit:"contain"})}):i.jsxs("div",{className:"dropzone",children:[i.jsx("p",{children:"Drag and drop images here or click to browse"}),i.jsx("input",{type:"file",accept:"image/*",id:"file-input",style:{display:"none"},onChange:C=>{const h=C.target.files;h&&h.length>0&&D(Array.from(h))}}),i.jsx("button",{className:"browse-btn",onClick:()=>{var C;return(C=document.getElementById("file-input"))==null?void 0:C.click()},children:"Choose File"})]})}),i.jsx("aside",{children:i.jsxs("div",{className:"controls",children:[i.jsxs("div",{className:"group",children:[i.jsx("h4",{children:"Presets"}),i.jsx("div",{className:"preset-grid",children:wt.slice(0,8).map((C,h)=>i.jsxs("button",{onClick:()=>ae(C),className:"preset-btn",children:[C.platform," ",C.type]},h))})]}),i.jsxs("div",{className:"group",children:[i.jsx("h4",{children:"Crop Settings"}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Aspect Ratio"}),i.jsxs("select",{value:l||"custom",onChange:C=>w(C.target.value==="custom"?void 0:parseFloat(C.target.value)),children:[i.jsx("option",{value:"custom",children:"Custom"}),i.jsx("option",{value:"1",children:"1:1 Square"}),i.jsx("option",{value:"1.91",children:"1.91:1 Landscape"}),i.jsx("option",{value:"0.75",children:"4:3 Portrait"}),i.jsx("option",{value:"1.33",children:"4:3 Landscape"})]})]}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Circle Crop"}),i.jsx("input",{type:"checkbox",checked:m,onChange:C=>d(C.target.checked)})]}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Border Radius"}),i.jsx("input",{type:"number",value:M,onChange:C=>N(parseInt(C.target.value)),min:"0",max:"100"})]})]}),i.jsxs("div",{className:"group",children:[i.jsx("h4",{children:"Effects"}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Brightness"}),i.jsx("input",{type:"range",min:"0",max:"200",value:A.brightness,onChange:C=>j({...A,brightness:parseInt(C.target.value)})})]}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Contrast"}),i.jsx("input",{type:"range",min:"0",max:"200",value:A.contrast,onChange:C=>j({...A,contrast:parseInt(C.target.value)})})]}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Saturation"}),i.jsx("input",{type:"range",min:"0",max:"200",value:A.saturation,onChange:C=>j({...A,saturation:parseInt(C.target.value)})})]})]}),i.jsxs("div",{className:"group",children:[i.jsx("h4",{children:"Export"}),i.jsxs("div",{className:"row",children:[i.jsx("label",{children:"Format"}),i.jsxs("select",{value:R,onChange:C=>E(C.target.value),children:[i.jsx("option",{value:"png",children:"PNG"}),i.jsx("option",{value:"jpeg",children:"JPEG"}),i.jsx("option",{value:"webp",children:"WebP"})]})]}),i.jsx("button",{className:"primary",onClick:z,disabled:x||!e,children:x?"Processing...":"Export Image"})]})]})})]}):i.jsx(St,{})})]})}ce.createRoot(document.getElementById("root")).render(i.jsx(Fe.StrictMode,{children:i.jsx(jt,{})}));
